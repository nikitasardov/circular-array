<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Circular Array</title>
    <script src="circular-array.min.js"></script>
</head>
<body>
    <p>
        Press F12 and explore object cArr.
    </p>
    <pre>
function CircArray(arrLength) {
    let arr = [],
        currIndex = -1;

    return {
        setArray: function(newArray) {
            arr = newArray;
        },
        toArray: function() {
            return arr;
        },
        status: function() {
            console.log({
                length: arr.length,
                currentIndex: currIndex,
                currentValue: arr[currIndex],
                arr: arr
            });
        },
        push: function(el) {
            arr.push(el);
        },
        prev: function() {
            if (0 > (currIndex - 1)) currIndex = arr.length - 1;
            else currIndex--;
            return arr[currIndex];
        },
        curr: function() {
            return arr[currIndex];
        },
        next: function() {
            if (arr.length <= (currIndex + 1)) currIndex = 0;
            else currIndex++;
            return arr[currIndex];
        }
    }
}
    </pre>
    <p>
        <a href="https://en.wikipedia.org/wiki/Circular_buffer">https://en.wikipedia.org/wiki/Circular_buffer</a>
    </p>
    <script>
        const randomInteger = function(min, max) {
            var rand = min - 0.5 + Math.random() * (max - min + 1);
            rand = Math.round(rand);
            return rand;
        };

        const getArr = function(arrLength) {
            var arr = [];
            for (var i=0; i < arrLength; i++) {
                arr.push(randomInteger(0, 9));
            }
            return arr;
        };

        var url = new URL(location);
        var n = url.searchParams.get("n");

        if (!n) n = 10;
        arrLength = isNaN(n) ? 10 : parseInt(n);

        var cArr = new CircArray();
        cArr.setArray(getArr(arrLength));
        console.log(cArr.toArray());
    </script>
</body>
</html>
